@import"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@600;700&family=Noto+Sans+SC:wght@400;500;600&display=swap";:root{--bg: #f2efe7;--bg-dark: #dce6dd;--ink: #1f2523;--accent: #0e6251;--accent-light: #cfe2d7;--card: #fdfbf7;--shadow: rgba(27, 27, 27, .18);--muted: #6c7a73;--danger: #d06b5e}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Noto Sans SC,sans-serif;color:var(--ink);background:radial-gradient(circle at top left,#f6f3ea 0,#f2efe7 45%,#e5efe6);min-height:100vh}body:before{content:"";position:fixed;top:0;right:0;bottom:0;left:0;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.6" numOctaves="1" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.04"/></svg>');pointer-events:none;opacity:.6}#app{max-width:1200px;margin:0 auto;padding:24px}.app{position:relative}.header{display:grid;grid-template-columns:1.2fr 1fr 1.2fr;gap:16px;margin-bottom:20px}.progress,.resources,.metrics{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 12px 30px var(--shadow)}.progress-meta{font-weight:600;margin-bottom:10px}.progress-bar{height:10px;background:var(--accent-light);border-radius:999px;overflow:hidden}.progress-bar span{display:block;height:100%;background:var(--accent)}.resources,.metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.metrics{grid-template-columns:repeat(5,1fr)}.resource,.metric{background:#fff;border-radius:12px;padding:10px;text-align:center;border:1px solid #e5e5e5}.resource span,.metric span{font-size:12px;color:var(--muted);display:block;margin-bottom:4px}.resource strong,.metric strong{font-size:16px}.board{display:flex;justify-content:center}.card-wrap{width:min(900px,92vw);height:620px;perspective:1400px}.card-inner{position:relative;width:100%;height:100%;transition:transform .8s ease;transform-style:preserve-3d}.card-wrap.flipped .card-inner{transform:rotateY(180deg)}.card-face{position:absolute;top:0;right:0;bottom:0;left:0;background:var(--card);border-radius:28px;padding:36px;backface-visibility:hidden;box-shadow:0 24px 45px var(--shadow);border:1px solid #e6e0d6}.card-front{display:flex;flex-direction:column;justify-content:center;gap:16px;text-align:center}.card-front h2{font-family:"Noto Serif SC",serif;font-size:34px;line-height:1.3}.subtitle{color:var(--muted);font-size:18px}.card-date{font-size:14px;letter-spacing:1px;text-transform:uppercase;color:var(--accent);font-weight:600}.card-back{transform:rotateY(180deg);overflow-y:auto}.card-content{display:flex;flex-direction:column;gap:16px;min-height:100%}.stage-title{font-size:20px;font-weight:600;color:var(--accent)}.summary{font-size:16px;line-height:1.7}.bullets{display:grid;gap:8px;margin-left:16px;line-height:1.6}.actions{margin-top:auto}.quiz-question{font-size:18px;font-weight:600}.quiz-options{display:grid;gap:10px}.hint{font-size:13px;color:var(--muted)}.case-block{margin-top:8px}.strategy-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:8px}.strategy{border:1px solid #e0dbd0;border-radius:16px;padding:14px;background:#fffdf9;display:flex;flex-direction:column;gap:8px}.strategy.disabled{opacity:.55}.strategy-title{font-weight:600}.strategy-desc{font-size:13px;color:var(--muted);line-height:1.5}.strategy-meta{font-size:12px;color:#4c5b54}.missing{font-size:12px;color:var(--danger)}.btn{border:none;padding:10px 16px;border-radius:999px;cursor:pointer;font-weight:600;font-size:14px}.btn.primary{background:var(--accent);color:#fff}.btn.ghost{background:transparent;border:1px solid var(--accent);color:var(--accent)}.btn.option{background:#f1f5f2;border:1px solid #dce6dd;text-align:left}.btn.disabled{background:#cfd8d3;cursor:not-allowed}.result{display:flex;flex-direction:column;gap:20px}.result-header{background:var(--card);padding:24px;border-radius:20px;box-shadow:0 12px 24px var(--shadow)}.result-header h1{font-size:28px;margin-bottom:10px}.result-sub{color:var(--muted)}.result-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.panel{background:var(--card);padding:18px;border-radius:18px;box-shadow:0 12px 24px var(--shadow)}.panel-title{font-weight:600;margin-bottom:10px}.list{display:grid;gap:8px;margin-left:18px;line-height:1.6}.bars{display:grid;gap:10px}.bar{display:grid;grid-template-columns:80px 1fr 40px;align-items:center;gap:10px}.bar-track{height:10px;background:#e1e8e3;border-radius:999px;overflow:hidden}.bar-track i{display:block;height:100%;background:var(--accent)}.poster-area canvas{margin-top:12px;width:100%;border-radius:12px;border:1px solid #e1e1e1}.poster-actions{display:flex;gap:12px;flex-wrap:wrap}.restart{display:flex;justify-content:center}.toast{position:fixed;right:24px;bottom:24px;background:#1c2b25;color:#fff;padding:12px 16px;border-radius:12px;box-shadow:0 12px 24px var(--shadow);z-index:20;transition:opacity .2s ease,transform .2s ease}.toast.hidden{opacity:0;transform:translateY(10px);pointer-events:none}.modal{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;z-index:30}.modal.hidden{display:none}.modal-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#00000059}.modal-card{position:relative;background:var(--card);border-radius:18px;padding:24px;width:min(720px,90vw);max-height:80vh;overflow-y:auto;box-shadow:0 24px 40px var(--shadow)}.modal-close{position:absolute;top:16px;right:16px;background:#e7efe9;border:none;padding:6px 10px;border-radius:8px;cursor:pointer}.modal-body h3{margin-bottom:6px}.modal-scenario{color:var(--muted);margin-bottom:12px}.modal-section{margin-top:10px}@media (max-width: 960px){.header{grid-template-columns:1fr}.card-wrap{height:720px}.metrics{grid-template-columns:repeat(3,1fr)}}@media (max-width: 640px){#app{padding:16px}.card-face{padding:24px}.card-front h2{font-size:24px}.bar{grid-template-columns:70px 1fr 30px}}
